version: 2

models:
  - name: dim_customers
    latest_version: 1
    columns:
      - name: customer_id
        description: "Unique ID"
        tests:
          - dbt_expectations.expect_column_to_exist
          - unique
          - not_null
      - name: email
        tests:
          - is_email_valid
      - name: dim_employees
        columns:
          - name: employee_id
            description: "Unique ID"
            tests:
              - unique
              - not_null
          - name: email_address
            tests:
              - is_email_valid
    version:
      -v: 1
  - name: dim_products
    latest_version: 1
    columns:
      - name: product_id
        description: "Unique ID"
        tests:
          - dbt_expectations.expect_column_to_exist
          - unique
          - not_null
      - name: supplier_id
        tests:
          - relationships:
              to: ref('northwind_stg__suppliers')
              field: supplier_id
      - name: standard_cost
        tests:
          - dbt_expectations.expect_column_to_exist
          - greater_than_zero
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: float
      - name: list_price
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: float
    version:
      -v: 1
  - name: dim_date
    latest_version: 1
    version:
      - v: 1
