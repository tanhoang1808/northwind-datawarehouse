version: 2

models:
  - name: dim_customers

    columns:
      - name: customer_id
        tests:
          - dbt_expectations.expect_column_to_exist
          - unique
          - not_null
      - name: email
        tests:
          - is_email_valid
      - name: dim_employees
        columns:
          - name: employee_id
            tests:
              - unique
              - not_null
          - name: email_address
            tests:
              - is_email_valid
  - name: dim_products
    columns:
      - name: product_id
        tests:
          - dbt_expectations.expect_column_to_exist
          - unique
          - not_null
      - name: supplier_id
        tests:
          - relationships:
              to: ref('northwind_stg__suppliers')
              field: supplier_id
      - name: standard_cost
        tests:
          - dbt_expectations.expect_column_to_exist
          - greater_than_zero
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: float
      - name: list_price
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: float

  - name: dim_date
